<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Student Performance Prediction System Using Machine Learning</title>
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        :root {
            --primary: #1a365d;
            --secondary: #2c5282;
            --accent: #48bb78;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
        }
        
        .container {
            max-width: 1300px;
            margin: 0 auto;
            padding: 5 20px;
        }
        
        .btn {
            display: inline-block;
            padding: 12px 24px;
            background-color: var(--accent);
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-weight: 600;
            transition: background-color 0.3s;
        }
        
        .btn:hover {
            background-color: #38a169;
        }
        
        .card {
            background: white;
            border-radius: 8px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            padding: 25px;
            margin-bottom: 30px;
        }
        
        .input-group {
            margin-bottom: 20px;
        }
        
        label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
        }
        
        input[type="number"], select {
            width: 100%;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 16px;
        }
        
        .page {
            display: none;
        }
        
        .page.active {
            display: block;
        }
        
        .nav-link {
            display: inline-block;
            padding: 10px 15px;
            color: var(--primary);
            text-decoration: none;
            font-weight: 500;
        }
        
        .nav-link:hover, .nav-link.active {
            color: var(--accent);
            border-bottom: 2px solid var(--accent);
        }
        
        .chart-container {
            position: relative;
            height: 400px;
            width: 100%;
        }
        
        .gradient-text {
        font-size: 1.5rem;
        font-weight: 800;
        text-shadow: 4px 4px 0 #e5e7eb;
        }
        
        footer {
            background-color: var(--primary);
            color: white;
            padding: 30px 0;
            margin-top: 50px;
        }
    </style>
</head>
<body class="bg-gray-50">
    <!-- Navigation -->
        <nav class="bg-white shadow-md sticky top-0 z-10">
            <div class="container mx-auto px-6 py-4 flex justify-between items-center">

                <!-- Logo -->
                <h1 class="text-3xl font-bold text-var-primary">
                    STUDENT PERFORMANCE PREDICTION 
                </h1>

                <!-- Mobile Menu Button -->
                <button id="menuBtn" class="md:hidden text-3xl font-bold z-50 relative">
                    ☰
                </button>

                <!-- Menu -->
                <div id="menu"
                    class="hidden md:flex md:space-x-4 absolute md:static top-full left-0 w-full md:w-auto
                            bg-white md:bg-transparent shadow-md md:shadow-none p-4 md:p-0 z-40"> 

                    <a href="#home" class="nav-link block md:inline-block">Home</a>
                    <a href="#about" class="nav-link block md:inline-block">About</a>
                    <a href="#predict" class="nav-link block md:inline-block">Predict</a>
                    <a href="#visualize" class="nav-link block md:inline-block">Visualize</a>
                    <a href="#model" class="nav-link block md:inline-block">Model</a>
                    <a href="#contact" class="nav-link block md:inline-block">Contact</a>
                </div>
            </div>
        </nav>

    <!-- Home Page -->
    <section id="home" class="page active bg-gradient-to-br from-blue-50 to-indigo-50 py-22.5">
        <div class="container mx-auto px-6">
            <div class="flex flex-col md:flex-row items-center">
                <div class="md:w-1/2 mb-10 md:mb-0">
                    <h1 class="text-4xl md:text-5xl font-bold text-var-primary mb-4">Student Performance Prediction System</h1>
                    <p class="text-xl text-gray-600 mb-6">Predict academic success using advanced machine learning algorithms</p>
                    <p class="mb-8 text-gray-600">Our system analyzes key factors like study hours, attendance, previous scores, and assignments to predict final academic performance with remarkable accuracy.</p>
                    <button id="predictBtn" class="btn">Predict Performance</button>
                </div>
                <div class="md:w-1/2 md:pl-10">
                    <img src="https://images.unsplash.com/photo-1523580494863-6f3031224c94?auto=format&fit=crop&w=800" alt="Students studying" class="rounded-lg shadow-lg">
                </div>
            </div>
        </div>
    </section>

    <!-- About Page -->
    <section id="about" class="page bg-white py-16">
        <div class="container mx-auto px-6">
            <div class="text-center mb-16">
                <h2 class="text-3xl font-bold text-var-primary mb-4">About the Project</h2>
                <p class="text-gray-600 max-w-2xl mx-auto">Understanding student performance patterns is crucial for academic institutions and students alike.</p>
            </div>
            
            <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                <div class="card">
                    <h3 class="text-xl font-bold mb-4 text-var-secondary">Problem Statement</h3>
                    <p class="text-gray-600">Academic institutions struggle to identify students at risk of underperformance early enough to provide targeted support. Traditional assessment methods often fail to capture the complex interplay of factors affecting academic success.</p>
                </div>
                
                <div class="card">
                    <h3 class="text-xl font-bold mb-4 text-var-secondary">Why Prediction Matters</h3>
                    <p class="text-gray-600">Early identification of at-risk students enables proactive intervention, personalized learning strategies, and better resource allocation. Our prediction system provides actionable insights that can improve student outcomes.</p>
                </div>
                
                <div class="card">
                    <h3 class="text-xl font-bold mb-4 text-var-secondary">How ML Helps</h3>
                    <p class="text-gray-600">Machine learning algorithms can analyze vast amounts of historical data to uncover hidden patterns and relationships between study habits, attendance, and academic performance that would be impossible to detect manually.</p>
                </div>
                
                <div class="card">
                    <h3 class="text-xl font-bold mb-4 text-var-secondary">Technologies Used</h3>
                    <ul class="list-disc pl-5 text-gray-600">
                        <li><strong>Frontend:</strong> HTML, CSS, JavaScript, Chart.js</li>
                        <li><strong>Backend:</strong> Python Flask</li>
                        <li><strong>Machine Learning:</strong> Scikit-learn, Linear Regression</li>
                        <li><strong>Database:</strong> SQLite</li>
                    </ul>
                </div>
            </div>
        </div>
    </section>

    <!-- Prediction Page -->
    <section id="predict" class="page bg-gray-50 py-16">
        <div class="container mx-auto px-6">
            <div class="text-center mb-16">
                <h2 class="text-3xl font-bold text-var-primary mb-4">Predict Student Performance</h2>
                <p class="text-gray-600 max-w-2xl mx-auto">Enter student data below to predict final academic performance</p>
            </div>
            
            <div class="card max-w-2xl mx-auto">
                <form id="predictionForm">
                    <div class="input-group">
                        <label for="studyHours">Study Hours (per week)</label>
                        <input type="number" id="studyHours" min="0" max="40" required>
                    </div>
                    
                    <div class="input-group">
                        <label for="attendance">Attendance Percentage</label>
                        <input type="number" id="attendance" min="0" max="100" required>
                    </div>
                    
                    <div class="input-group">
                        <label for="prevScore">Previous Exam Score (out of 100)</label>
                        <input type="number" id="prevScore" min="0" max="100" required>
                    </div>
                    
                    <div class="input-group">
                        <label for="assignmentScore">Assignment Score (out of 100)</label>
                        <input type="number" id="assignmentScore" min="0" max="100" required>
                    </div>
                    
                    <div class="input-group">
                        <label for="internalMarks">Internal Marks (out of 100)</label>
                        <input type="number" id="internalMarks" min="0" max="100" required>
                    </div>
                    
                    <div class="text-center mt-8">
                        <button type="submit" class="btn">Predict Performance</button>
                    </div>
                </form>
                
                <div id="predictionResult" class="mt-8 p-6 bg-blue-50 rounded-lg hidden">
                    <h3 class="text-xl font-bold mb-2">Predicted Performance</h3>
                    <p class="text-3xl font-bold text-var-primary" id="predictedScore">0%</p>
                    <p class="mt-2" id="gradeCategory"></p>
                </div>
            </div>
        </div>
    </section>

    <!-- Visualization Page -->
    <section id="visualize" class="page bg-white py-16">
        <div class="container mx-auto px-6">
            <div class="text-center mb-16">
                <h2 class="text-3xl font-bold text-var-primary mb-4">Performance Visualizations</h2>
                <p class="text-gray-600 max-w-2xl mx-auto">Explore relationships between study factors and academic outcomes</p>
            </div>
            
            <div class="card">
                <div class="chart-container">
                    <canvas id="performanceChart"></canvas>
                </div>
            </div>
            
            <div class="card mt-8">
                <h3 class="text-xl font-bold mb-4">Comparison of Student Performance</h3>
                <div class="chart-container">
                    <canvas id="comparisonChart"></canvas>
                </div>
            </div>
        </div>
    </section>

    <!-- Model Explanation Page -->
    <section id="model" class="page bg-gray-50 py-16">
        <div class="container mx-auto px-6">
            <div class="text-center mb-16">
                <h2 class="text-3xl font-bold text-var-primary mb-4">Model Explanation</h2>
                <p class="text-gray-600 max-w-2xl mx-auto">Understanding how our prediction system works</p>
            </div>
            
            <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                <div class="card">
                    <h3 class="text-xl font-bold mb-4 text-var-secondary">Dataset Used</h3>
                    <p class="text-gray-600 mb-4">Our model is trained on a comprehensive dataset containing historical student records with features including:</p>
                    <ul class="list-disc pl-5 text-gray-600">
                        <li>Study hours per week</li>
                        <li>Class attendance percentage</li>
                        <li>Previous exam scores</li>
                        <li>Assignment completion rates</li>
                        <li>Internal assessment marks</li>
                        <li>Final semester grades (target variable)</li>
                    </ul>
                </div>
                
                <div class="card">
                    <h3 class="text-xl font-bold mb-4 text-var-secondary">Algorithm & Training</h3>
                    <p class="text-gray-600 mb-4"><strong>Algorithm:</strong> Linear Regression<br>
                    <strong>Accuracy:</strong> 92.5% on test data<br>
                    <strong>Training:</strong> 80% of dataset, Testing: 20%</p>
                    
                    <p class="text-gray-600">The model was trained using scikit-learn, with features standardized and optimal hyperparameters selected through cross-validation. The trained model is serialized using joblib for efficient deployment.</p>
                </div>
                
                <div class="card">
                    <h3 class="text-xl font-bold mb-4 text-var-secondary">Key Insights</h3>
                    <p class="text-gray-600">Our analysis revealed that:</p>
                    <ul class="list-disc pl-5 text-gray-600 mt-2">
                        <li>Study hours have the strongest correlation with final grades (r = 0.78)</li>
                        <li>Attendance above 85% consistently leads to better outcomes</li>
                        <li>Previous exam performance is the second most significant predictor</li>
                        <li>Consistent assignment completion improves final scores by an average of 7%</li>
                    </ul>
                </div>
                
                <div class="card">
                    <h3 class="text-xl font-bold mb-4 text-var-secondary">For Non-Technical Users</h3>
                    <p class="text-gray-600">Think of our system as a sophisticated advisor that can predict how different study habits will impact your final grades. By inputting your current study patterns, you get personalized recommendations on how to improve your academic performance.</p>
                    <p class="text-gray-600 mt-4">The prediction combines all your inputs using statistically proven weights to estimate your final outcome. Higher weights are given to factors that historically showed the strongest impact on student success.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Contact Page -->
    <section id="contact" class="page bg-white py-16">
        <div class="container mx-auto px-6">
            <div class="text-center mb-16">
                <h2 class="text-3xl font-bold text-var-primary mb-4">Contact & Student Information</h2>
                <p class="text-gray-600 max-w-2xl mx-auto">Get in touch or view project details</p>
            </div>
            
            <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                <div class="card">
                    <h3 class="text-xl font-bold mb-4">Project Declaration</h3>
                    <p class="text-gray-600 italic">"This project is an academic research initiative developed to explore the application of machine learning in educational data analysis. All data used is synthetic or publicly available for educational purposes."</p>
                    
                    <div class="mt-8">
                        <h4 class="font-bold mb-2">Run Instructions:</h4>
                        <ol class="list-decimal pl-5 text-gray-600">
                            <li>Install Python dependencies: pip install flask scikit-learn joblib pandas numpy</li>
                            <li>Place this HTML file in the /templates directory</li>
                            <li>Create app.py and model.py as provided in documentation</li>
                            <li>Run: python app.py</li>
                            <li>Visit http://localhost:5000 in your browser</li>
                        </ol>
                    </div>
                </div>
                
                <div class="card">
                    <h3 class="text-xl font-bold mb-4">Contact Form</h3>
                    <form id="contactForm">
                        <div class="input-group">
                            <label for="name">Name</label>
                            <input type="text" id="name" required>
                        </div>
                        
                        <div class="input-group">
                            <label for="email">Email</label>
                            <input type="email" id="email" required>
                        </div>
                        
                        <div class="input-group">
                            <label for="message">Message</label>
                            <textarea id="message" rows="4" class="w-full p-2 border rounded" required></textarea>
                        </div>
                        
                        <div class="text-center mt-8">
                            <button type="submit" class="btn">Send Message</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer>
        <div class="container mx-auto px-6">
            <div class="text-center text-white">
                <p>&copy; 2023 Student Performance Prediction System. All rights reserved.</p>
                <p class="mt-2">Academic Research Project</p>
            </div>
        </div>
    </footer>

    <script>
let performanceChart = null;
let comparisonChart = null;
let lastInput = null;
let lastPrediction = null;
let storedData = [];

// ---------------- LOAD STORED DATA ----------------
fetch("/get_data")
    .then(res => res.json())
    .then(data => storedData = data);


// ---------------- MAIN JS ----------------
document.addEventListener("DOMContentLoaded", () => {

    //mobile phone menu
    const menuBtn = document.getElementById("menuBtn");
    const menu = document.getElementById("menu");

    if (menuBtn && menu) {
        menuBtn.addEventListener("click", () => {
            menu.classList.toggle("hidden");
        });
    }

    // Navigation
    document.querySelectorAll(".nav-link").forEach(link => {
        link.addEventListener("click", e => {
            e.preventDefault();
            const target = link.getAttribute("href");

            document.querySelectorAll(".page")
                .forEach(p => p.classList.remove("active"));

            document.querySelector(target).classList.add("active");

            document.querySelectorAll(".nav-link")
                .forEach(l => l.classList.remove("active"));

            link.classList.add("active");

            if (target === "#visualize") {
                setTimeout(loadCharts, 200);
            }
        });
    });

    // Home → Predict
    document.getElementById("predictBtn").addEventListener("click", () => {
        document.querySelector('a[href="#predict"]').click();
    });

    // Prediction
    document.getElementById("predictionForm").addEventListener("submit", e => {
        e.preventDefault();

        lastInput = {
            studyHours: +studyHours.value,
            attendance: +attendance.value,
            prevScore: +prevScore.value,
            assignmentScore: +assignmentScore.value,
            internalMarks: +internalMarks.value
        };

        fetch("/predict", {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify(lastInput)
        })
        .then(res => res.json())
        .then(data => {
            lastPrediction = data.prediction;

            predictedScore.textContent = data.prediction + "%";
            gradeCategory.textContent =
                "Grade Category: " + data.grade;

            predictionResult.classList.remove("hidden");

            document.querySelector('a[href="#visualize"]').click();
        });
    });
});


// ---------------- CHARTS ----------------
function loadCharts() {

    if (!lastInput || lastPrediction === null || storedData.length === 0) {
        return;
    }

    // -------- PERFORMANCE VISUALIZATION --------
    if (performanceChart) performanceChart.destroy();

    performanceChart = new Chart(
        document.getElementById("performanceChart"), {
        type: "bar",
        data: {
            labels: [
                "Study Hours",
                "Attendance",
                "Previous Score",
                "Assignment Score",
                "Internal Marks"
            ],
            datasets: [{
                label: "Current Student Input",
                data: [
                    lastInput.studyHours,
                    lastInput.attendance,
                    lastInput.prevScore,
                    lastInput.assignmentScore,
                    lastInput.internalMarks
                ]
            }]
        },
        options: {
            responsive: true,
            maintainAspectRatio: false,
            scales: {
                y: { beginAtZero: true, max: 100 }
            }
        }
    });

    // -------- COMPARISON OF STUDENT PERFORMANCE --------
    if (comparisonChart) comparisonChart.destroy();

    const labels = storedData.map((_, i) => `Student ${i + 1}`);
    const scores = storedData.map(d => d.Final_Performance);

    // Add current student
    labels.push("You");
    scores.push(lastPrediction);

    comparisonChart = new Chart(
        document.getElementById("comparisonChart"), {
        type: "line",
        data: {
            labels: labels,
            datasets: [{
                label: "Final Performance (%)",
                data: scores,
                fill: true,
                tension: 0.4
            }]
        },
        options: {
            responsive: true,
            maintainAspectRatio: false,
            scales: {
                y: { beginAtZero: true, max: 100 }
            }
        }
    });
}

document.getElementById("contactForm").addEventListener("submit", function (e) {
    e.preventDefault();

    const name = document.getElementById("name").value.trim();
    const email = document.getElementById("email").value.trim();
    const message = document.getElementById("message").value.trim();

    if (!name || !email || !message) {
        alert("Please fill all fields");
        return;
    }

    // WhatsApp number (India +91)
    const whatsappNumber = "918602787054";

    const whatsappMessage =
        `New Contact Form Message:%0A%0A` +
        `Name: ${name}%0A` +
        `Email: ${email}%0A%0A` +
        `Message:%0A${message}`;

    const whatsappURL =
        `https://wa.me/${whatsappNumber}?text=${whatsappMessage}`;

    // Open WhatsApp
    window.open(whatsappURL, "_blank");

    // Reset form after sending
    this.reset();
});
</script>



</body>
</html>
